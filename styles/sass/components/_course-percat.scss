// Course PerCat Component Styles
// =============================

// Variables
$course-percat-bg-gradient: linear-gradient(105.9deg, rgb(12, 9, 28) 24.4%, rgb(11, 10, 16) 80.5%);
$course-percat-title-size: 40px;
$course-percat-title-weight: 700;
$course-percat-text-size: 18px;
$course-percat-item-padding: 20px;
$course-percat-item-radius: 10px;
$course-percat-item-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
$course-percat-item-margin: 24px;
$course-percat-item-hover-scale: 1.05;
$course-percat-item-hover-transition: all 0.3s ease;
$course-percat-image-height: 224px;
$course-percat-item-title-size: 20px;
$course-percat-item-description-size: 16px;

// Filter button variables
$filter-btn-padding: 12px 24px;
$filter-btn-radius: 25px;
$filter-btn-border: 2px solid rgba(255, 255, 255, 0.3);
$filter-btn-color: white;
$filter-btn-bg: transparent;
$filter-btn-active-bg: rgba(255, 255, 255, 0.1);
$filter-btn-active-border: 2px solid rgba(255, 255, 255, 0.8);
$filter-btn-hover-bg: rgba(255, 255, 255, 0.05);
$filter-btn-transition: all 0.3s ease;

.course-percat {
  background: $course-percat-bg-gradient;
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  &.full{
    // min-height: 100vh;
  }

  // Main title
  h2 {
    width: 100%;
    text-align: center;
    font-size: $course-percat-title-size;
    font-weight: $course-percat-title-weight;
    font-family: $font-primary;
    font-style: italic;
    color: white;
  }

  // Text section
  &__text {
    width: 100%;
    display: flex;
    flex-flow: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    margin-bottom: 32px;

    p {
      font-size: $course-percat-text-size;
      color: white;
    }
  }

  // Filter section
  &__filters {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    margin-bottom: 40px;
    width: 100%;

    @include mobile {
      gap: 8px;
      margin-bottom: 32px;
    }
  }

  // Filter buttons
  &__filter-btn {
    padding: $filter-btn-padding;
    border-radius: $filter-btn-radius;
    border: $filter-btn-border;
    background: $filter-btn-bg;
    color: $filter-btn-color;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: $filter-btn-transition;
    white-space: nowrap;

    &:hover {
      background: $filter-btn-hover-bg;
      border-color: rgba(255, 255, 255, 0.6);
      transform: translateY(-2px);
    }

    &.active {
      background: $filter-btn-active-bg;
      border: $filter-btn-active-border;
      font-weight: 600;
    }

    @include mobile {
      padding: 10px 20px;
      font-size: 13px;
    }
  }

  &__items{
    display: flex;
    flex-flow: row wrap;
    justify-content: center;
  }

  // Container for course items
  .container {
    display: flex;
    flex-flow: row wrap;
    justify-content: center;
    align-items: center;
    padding-top: 48px;
    padding-bottom: 48px;
    @include tablet{
     max-width: 90%;
     width: 100%;
    }
  }

  // Individual course item
  &__item {
    width: 100%;
    height: 100%;
    box-shadow: $course-percat-item-shadow;
    margin-bottom: 32px;
    position: relative;
    transition: opacity 0.3s ease, transform 0.3s ease;

    // Remove problematic nth-child rule
    // &:nth-child(6n){
    //   margin-right: 0;
    // }

    // Ensure last child is always visible
    &:last-child {
      margin-right: 0;
      margin-bottom: 0;
    }

    a{
      text-decoration: none;
      width: 100%;
    }
    .heart-container{
    position: absolute;
    top: 8px;
    right: 8px;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 1px solid white;
    svg{
      &.favorited{
        path{
          fill: white;
        }
      }
      path{
        fill: transparent;
        stroke: white;
        stroke-width: 1px;
      }

    }
    }
    // Hover effects
    &:hover {
      transform: scale($course-percat-item-hover-scale);
      transition: $course-percat-item-hover-transition;
    }

    // Tablet and larger screens
    @include tablet {
      width: calc(100% / 6 - #{$course-percat-item-margin});
      margin-right: $course-percat-item-margin;
      display: flex;
      flex-flow: wrap;

      // Fix for 6th item and multiples
      &:nth-child(6n) {
        margin-right: 0;
      }

      &:last-child {
        margin-right: 0;
      }
    }

    // Item image container
    &-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;

      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        aspect-ratio: auto 540 / 730;
      }
    }

    // Item title
    &-title {
      width: 100%;
      h2 {
        font-size: $course-percat-item-title-size;
        font-weight: $course-percat-title-weight;
        text-align: left;

        text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      }
      p{
        color: white;
        font-size: 14px;
        margin-bottom: 12px;
      }
    }

    // Item description
    &-description {
      p {
        font-size: $course-percat-item-description-size;
        font-weight: 400;
        text-align: center;
      }
    }
  }
}
